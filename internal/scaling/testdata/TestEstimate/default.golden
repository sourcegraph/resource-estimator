`### Estimate summary

* **Estimated total CPUs:** 34
* **Estimated total memory:** 54g
* **Note:** Use the default values for services not listed below .
* <details><summary>**IMPORTANT:** Cost-saving option to reduce resource consumption is available</summary><br><blockquote>
  <p>You may choose to use _shared resources_ to reduce the costs of your deployment:</p>
  <ul>
  <li>**Estimated total _shared_ CPUs (shared):** 8</li>
  <li>**Estimated total _shared_ memory (shared):** 9g</li>
  </ul><br>
  <p>**What this means:** Your instance would not have enough resources for all services to run _at peak load_, and _sometimes_ this could lead to a lack of resources. This may appear as searches being slow for some users if many other requests or indexing jobs are ongoing.</p>
  <p>On small instances such as what you've chosen, this can often be OK -- just keep an eye out for any performance issues and increase resources as needed.</p>
  <p>To use shared resources, simply apply the limits shown below normally -- but only provision a machine with the resources shown above.</p>
  </blockquote></details>


| Service | Replicas | CPU requests | CPU limits | Memory requests | Memory limits |
|---------|:----------:|:--------------:|:------------:|:-----------------:|:---------------:|
| frontend | 2ꜝ | - | 4 | - | 8g |
| gitserver | 1 | - | 4 | - | 8g |
| pgsql | 1 | - | 4 | - | 4g |
| precise-code-intel | 1 | - | 4ꜝ | - | 5gꜝ |
| searcher | 1 | - | 2 | - | 2g |
| symbols | 1 | - | 2 | - | 2gꜝ |
| syntect-server | 1 | - | 4 | - | 6g |
| worker | 1 | - | 2ꜝ | - | 4g |
| zoekt-indexserver | 1 | - | 8 | - | 8gꜝ |
| zoekt-webserver | 1 | - | 7ꜝ | - | 9gꜝ |

> ꜝ<small> This is a non-default value.</small>

### Storage

| Service | Size | Note |
|---------|:------------:|------|
| codeinsights-db | 200GB | Starts at default as the value depends entirely on usage and the specific Insights that are being created by users. |
| codeintel-db | 200GB | Starts at default as the value depends entirely on the size of indexes being uploaded. If Rockskip is enabled, 4 times the size of all repositories indexed by Rockskip is required. |
| gitserver | 36GBꜝ | ~ 20 percent more than the total size of all repositories. |
| minio | 1GB | ~ The size of the largest LSIF index file. |
| pgsql | 200GB | Starts at default as the value grows depending on the number of active users and activity. |
| indexed-search | 18GBꜝ | Approximately half of the total gitserver disk size. |
> ꜝ<small> For Kubernetes deployments, set the PVC storage size equal to this value divided by the number of replicas. </small>

### Ephemeral storage

| Service | Limits | Note |
|---------|:------------:|------|
| searcher| 3.00GBꜝ | ~ Total number of average repositories divided by 100. |
| symbols | 2GBꜝ | ~ 20 percent more than the size of your largest repository. Using an SSD is highly preferred if you are not indexing with Rockskip. |
> ꜝ<small> For Kubernetes deployments, set the resources.ephemeral-storage size equal to this value divided by the number of replicas.</small>

`
